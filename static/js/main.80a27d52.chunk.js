(this["webpackJsonptrello-react"]=this["webpackJsonptrello-react"]||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(3),o=n(1),i=n.n(o),a=n(27),r=n.n(a),u=n(9),s=(n(53),n(36),n(38),n(29)),l=n(5),d=n(20),j=n(14),f=(n(41),void 0),b=function(e){var t=e.id,n=e.deleteDesk,o=e.name,i=e.goToColumns;return Object(c.jsxs)("div",{onClick:i.bind(f,t),className:"Desk",children:[Object(c.jsx)("div",{onClick:n.bind(f,t),className:"Desk__delete",children:"X"}),o]})},m=n(21),h=(n(42),void 0),O=function(e){var t=e.update,n=Object(o.useState)(!1),i=Object(j.a)(n,2),a=i[0],r=i[1],s=Object(o.useState)(""),l=Object(j.a)(s,2),d=l[0],f=l[1],b=function(){if(!d.trim().length)return alert("\u043d\u0430\u0439\u0441 \u043f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),null;u.a.firestore().collection("desks").add({name:d}).then((function(e){return e.get()})).then((function(e){t(Object(m.a)({id:e.id},e.data()))})).then((function(){return f("")})).catch((function(e){return console.log(e)}))};return a?Object(c.jsxs)("div",{className:"CreateShowDesk",children:[Object(c.jsx)("p",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443"}),Object(c.jsx)("input",{onKeyDown:function(e){13===e.keyCode&&b()},autoFocus:!0,type:"text",value:d,onChange:function(e){f(e.target.value)}}),Object(c.jsx)("button",{onClick:b.bind(h),children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),Object(c.jsx)("button",{onClick:function(){return r(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]}):Object(c.jsx)("div",{onClick:function(){r(!0)}.bind(h),className:"CreateDesk",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443"})},p=(n(43),function(e){var t=Object(o.useState)([]),n=Object(j.a)(t,2),i=n[0],a=n[1],r=function(t){e.history.push("/list/".concat(t))},s=function(e){u.a.firestore().collection("desks").doc(e).delete().then((function(){return t=e,a(i.filter((function(e){return e.id!==t})));var t})).catch((function(e){return console.error(e)}))};return Object(o.useEffect)((function(){u.a.firestore().collection("desks").get().then((function(e){var t=[];e.forEach((function(e){t.push({id:e.id,name:e.data().name})})),a(t)}))}),[]),Object(c.jsxs)("div",{className:"DeskList",children:[i.map((function(e){return Object(c.jsx)(b,{goToColumns:r,id:e.id,deleteDesk:s,name:e.name},e.id)})),Object(c.jsx)(O,{update:function(e){a([].concat(Object(d.a)(i),[e]))}})]})}),x=(n(44),function(e){var t=e.id,n=e.name,i=e.deleteColumn,a=e.createColumnBool,r=e.updateColumns,s=e.deskId,l=Object(o.useState)(!1),d=Object(j.a)(l,2),f=d[0],b=d[1],h=Object(o.useState)(""),O=Object(j.a)(h,2),p=O[0],x=O[1];return f?Object(c.jsxs)("div",{className:"Column Form",children:[Object(c.jsx)("p",{children:n}),Object(c.jsx)("input",{type:"text",autoFocus:!0,value:p,onChange:function(e){return x(e.target.value)}}),Object(c.jsx)("button",{onClick:function(){return function(){if(!p.trim().length)return alert("\u043d\u0430\u0439\u0441 \u043f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),null;u.a.firestore().collection("columns").add({name:p,deskId:s}).then((function(e){return e.get()})).then((function(e){r(Object(m.a)({id:e.id},e.data()))})).then((function(){return x("")})).catch((function(e){return console.log(e)}))}()},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),Object(c.jsx)("button",{onClick:function(){return b(!1)},children:"\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]}):a?Object(c.jsx)("div",{onClick:function(){return b(!0)},className:"Column create",children:n}):Object(c.jsxs)("div",{className:"Column",children:[n,Object(c.jsx)("div",{onClick:i.bind(undefined,t),className:"Desk__delete",children:"X"})]})}),k=(n(45),function(e){var t=Object(o.useState)([]),n=Object(j.a)(t,2),i=n[0],a=n[1],r=e.match.params.id,s=function(e){u.a.firestore().collection("columns").doc(e).delete().then((function(){return t=e,a(i.filter((function(e){return e.id!==t})));var t})).catch((function(e){return console.error(e)}))};return Object(o.useEffect)((function(){u.a.firestore().collection("columns").where("deskId","==",r).get().then((function(e){var t=[];e.forEach((function(e){var n=e.data(),c=n.name,o=n.deskId;t.push({id:e.id,name:c,deskId:o})})),a(t)}))}),[]),Object(c.jsxs)("div",{className:"ColumnList",children:[i.map((function(e){return Object(c.jsx)(x,{id:e.id,deleteColumn:s,name:e.name},e.id)})),Object(c.jsx)(x,{deskId:r,updateColumns:function(e){a([].concat(Object(d.a)(i),[e]))},createColumnBool:!0,name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u0438\u0441\u0442"})]})});n(46);var v=function(){var e=[{path:"/",exact:!0,component:p},{path:"/list/:id",exact:!0,component:k}];return Object(c.jsx)(s.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"My Trello App"}),Object(c.jsx)(l.c,{children:e.map((function(e,t){return Object(c.jsx)(l.a,{exact:e.exact,path:e.path,component:e.component},t)}))})]})})};n(51);u.a.initializeApp({apiKey:"AIzaSyA7yYX44D8IkrcCdClrhK0mxz2B91kOCuU",authDomain:"trello-e73bd.firebaseapp.com",databaseURL:"https://trello-e73bd-default-rtdb.firebaseio.com",projectId:"trello-e73bd",storageBucket:"trello-e73bd.appspot.com",messagingSenderId:"695558317459",appId:"1:695558317459:web:6769ef5cc63d6996a6b466",measurementId:"G-YEPPQX27WJ"}),u.a.analytics(),r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.80a27d52.chunk.js.map